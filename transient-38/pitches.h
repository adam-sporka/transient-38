// Periods for A4 = 440 Hz at 32,000 Hz
const uint16_t PROGMEM pitches[128] = {
  3913, 3694, 3486, 3291, 3106, 2932, 2767, 2612, 2465, 2327, 2196, 2073, 1956, 1847, 1743,
  1645, 1553, 1466, 1383, 1306, 1232, 1163, 1098, 1036, 978, 923, 871, 822, 776, 733, 691, 653,
  616, 581, 549, 518, 489, 461, 435, 411, 388, 366, 345, 326, 308, 290, 274, 259, 244, 230,
  217, 205, 194, 183, 172, 163, 154, 145, 137, 129, 122, 115, 108, 102, 97, 91, 86, 81, 77,
  72, 68, 64, 61, 57, 54, 51, 48, 45, 43, 40, 38, 36, 34, 32, 30, 28, 27, 25, 24, 22, 21,
  20, 19, 18, 17, 16, 15, 14, 13, 12, 12, 11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 6, 6, 5, 5, 5,
  4, 4, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2 };
const char PROGMEM chars[] = "   111222333444555666777888999AAA";

ARDUINO_INLINE uint16_t getPitch(unsigned char midi_note)
{
  return pgm_read_word(pitches + midi_note);
}

ARDUINO_INLINE byte getOctave(byte note)
{
    byte octave = note >> 2;
    return pgm_read_byte(&chars[octave]);
}
